<!DOCTYPE html>
<html>
<head>
  <title>Boats</title>
  <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
</head>
<body>
</body>
  
<script type="text/javascript">

SVG.Boat= class extends SVG.G {
  constructor(color, x, y, angle) {
    super(x, y);
    var group = this.group()
    var hull = group.path("M 50,10 C 70,30 70,70 70,90 L 30,90 C 30,70 30,30 50,10").rotate(angle, 50, 40).translate(x, y);
    hull.stroke({color: 'black', width: 3, linecap: 'round', linejoin: 'round'});
    hull.fill(color);
    var sail = group.path("M 50,40 L 80,50 L 60,85 Z").rotate(angle, 50, 40).translate(x, y);
    sail.fill({color: 'lightgray', opacity: 0.75});
    sail.stroke({color: 'black', width: 1});
  }
}

SVG.extend(SVG.Container,  {
  boat: function(color, x, y, angle) {
    return this.put(new SVG.Boat(color, x, y, angle))
  }
})

var draw = SVG().addTo('body').size(600, 300);

var boat1 = draw.boat('lightblue', 100, 100, 45);
var boat2 = draw.boat('lightgreen', 200, 120, -45);

var boata = draw.boat('red', 100, 200, 0);
var boatb = draw.boat('red', 200, 200, 45);
var boatc = draw.boat('red', 300, 200, 90);
var boatd = draw.boat('red', 400, 200, 180);

var course1 = draw.path("m 0,200 C 50,50 100,200 200,100");
course1.fill('none').stroke({width:2, color: 'green'})

draw.animate(8000, '<>').during(function( eased){
    var p = course1.pointAt(eased * course1.length());
    boat1.move(p.x, p.y);
}).loop(true)

</script>
</html>
